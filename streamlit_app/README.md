# EMD Local Median Streamlit App

Interactive demonstration of the Local Median EMD approach for signal decomposition.

## Quick Start

```bash
# Install dependencies
pip install -r requirements.txt

# Optional: Pre-compute data for faster response
python precompute.py

# Run the app
streamlit run app.py
```

## Features

- **Interactive Controls**: Adjust smoothing bandwidth, noise level, decay factor, and iteration number
- **AM-FM Signal Parameters**: Customize amplitude modulation depth, base frequency, and chirp rate
- **Method Comparison**: Compare Local Median, Median, and Average smoothers in separate tabs
- **Mathematical Formulas**: LaTeX-rendered equations in the sidebar
- **Metrics Table**: RMSE and MAE comparison for all methods

## File Structure

| File | Description |
|------|-------------|
| `app.py` | Main Streamlit application |
| `smoothers.py` | Smoothing functions (EPA local median, median, NW average) |
| `signals.py` | AM-FM signal generation |
| `precompute.py` | Pre-computation script for parameter grid |
| `precomputed_data.pkl` | Pre-computed results (generated by precompute.py) |
| `requirements.txt` | Python dependencies |

## Parameters

### Smoothing Parameters
| Parameter | Range | Default | Description |
|-----------|-------|---------|-------------|
| h0 | 0.01 - 0.30 | 0.10 | Initial bandwidth |
| sigma | 0.05 - 0.50 | 0.20 | Noise level |
| a | 1.1 - 2.0 | 1.414 | Decay factor (sqrt(2)) |
| k | 1 - 10 | 1 | Iteration number |

### AM-FM Signal Parameters
| Parameter | Range | Default | Description |
|-----------|-------|---------|-------------|
| AM depth | 0.1 - 1.0 | 0.5 | Amplitude modulation depth |
| Base freq | 1 - 20 | 6 | Base frequency in Hz |
| Chirp rate | 0 - 30 | 12 | Frequency chirp coefficient |

## Methods

1. **Local Median**: Epanechnikov kernel-weighted median - robust to outliers
2. **Median**: Unweighted median within bandwidth window - robust but no smooth weighting
3. **Average**: Nadaraya-Watson kernel mean - optimal for Gaussian noise but outlier-sensitive

## References

- [Theory Documentation](https://digital-ai-finance.github.io/emd_local_median/)
- [Interactive Dashboard](https://digital-ai-finance.github.io/epa_smoothing/)
